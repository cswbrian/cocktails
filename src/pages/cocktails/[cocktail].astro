---
import { cocktails } from "../../cocktails";
import Layout from "../../layouts/Layout.astro";

export function getStaticPaths() {
  return cocktails.map((cocktail) => {
    return {
      params: {
        cocktail: cocktail.name.toLocaleLowerCase().replace(/[\s#\/]/g, "-"),
      },
      props: { cocktail },
    };
  });
}

const {
  cocktail: { name, timing, tastes, ingredients, preparation },
} = Astro.props;
---

<Layout title={name || "Cocktails"}>
  <h1 class="font-bold text-2xl">{name}</h1>
  <p>Timing: {timing}</p>
  <p>Tastes: {tastes.map(taste => taste).join(', ')}</p>
  <p>preparation: {preparation}</p>
  <h2 class="text-xl">Ingredients</h2>
  <ul>
    {
      ingredients.map(({ name, amount, unit }) => {
        return (
          <li>
            {`${name} - ${amount} ${unit}`}
          </li>
        );
      })
    }
  </ul>
</Layout>
